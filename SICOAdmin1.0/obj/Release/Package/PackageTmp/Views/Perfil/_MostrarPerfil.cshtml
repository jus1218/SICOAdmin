@model List<SICOAdmin1._0.Models.Perfil.PerfilViewModel>
@using SICOAdmin1._0.Models.Perfil
@{
    List<PerfilViewModel> lstMode = (List<PerfilViewModel>)ViewBag.Perfil;
    var objPerfil = new PerfilViewModel();

    List<int?> lstActions = (List<int?>)Session["lstActions"];
    if (lstActions == null)
    {
        lstActions = new List<int?>();
    }
    bool puedeModificar = false;
    if (lstActions.Contains(12)) { puedeModificar = true; }
}

<table id="tbPerfiles" class="table table-bordered">
    <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">Nombre</th>
            <th scope="col">Descripcion</th>
            <th scope="col">Estado</th>
            <th scope="col">Acciones</th>

        </tr>
    </thead>
    <tbody style="text-align:center;">

        @if (lstMode != null && lstMode.Count > 0)
        {
            foreach (var perfil in lstMode)
            {
                <tr>
                    <td>@perfil.IdPerfil</td>
                    <td>@perfil.Nombre</td>
                    <td>@perfil.Descripcion</td>
                    @if (@perfil.Activo == false)
                    {
                        <td>
                            Inactivo
                        </td>
                    }
                    else
                    {
                        <td>
                            Activo
                        </td>
                    }
                <td>
                    @if (puedeModificar)
                    {
                        <button id="Editar"
                                type="button"
                                value="Editar"
                                class="btn btn-warning "
                                onclick="document.location.href = '@Url.Action("Editar", "Perfil", new { Id = perfil.IdPerfil })'">
                            <i class="fa fa-pencil mr-2"></i>
                            Editar
                        </button>


                          if (@perfil.Activo == false)
                          {
                            <button id="btnActivar"
                                    class="btn btn-primary"
                                    style="width: 23%;"
                                    type="button"
                                    onclick="jsModificarEstado(@perfil.IdPerfil)">
                                <i class="fa fa-unlock mr-2"></i>
                                Activar
                            </button> 
                          }
                          else{

                            <button id="btnDesactivar"
                                    class="btn btn-danger "
                                    style="width: 23%;"
                                    onclick="jsModificarEstado(@perfil.IdPerfil)">
                                <i class="fa fa-lock mr-2"></i>
                                Desactivar
                            </button>
                          }                
                    }


                    <button id="btnBitacora"
                            onclick="jsmostrarBitacora('@perfil.IdPerfil')"
                            class="btn btn-info"
                            data-toggle="modal"
                            data-target="#ModalBitacora">
                        <i class="fa fa-book mr-2"></i>
                        Bitácora
                    </button>







                </td>
               </tr>

             }
        }

    </tbody>
</table>